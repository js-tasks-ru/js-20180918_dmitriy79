sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        MT228f6BQQLC+kdfAHi/RlUmLhUnjXSFAgWfGzdJVJW0H1UK4S0Kmc2akZpJDFouL3OT4vN6c2EE9ZZdU2S+9krN4VsTE40f0whGvcFMk1TOstKGOVWTz4vyurow0mMkm229s2gEk3CkeCpA7FsSkjnqlv9gdh2Ptks5yLtH6XUWhcnjpqSvTOJ+yHPxc/C6KjSjFAsASNLS3LsIIXANEBRzqWjOjQuQtOURV93KuPrSpYXlxdNXzFYFyjkkXhpSAqV/ZBcQYpIDHQGMAfuOr05+oml1pmfBu3vm2SvPQjSQjoyEBGrKnXex2XtliVPnVPmsBexXhB/calv6PLFeNyFS/jEYo9ck8/gYFrezHb2AfZWmpaHbkDZ2VKAUUMYbzLqUdbhyZ4xeosICY23O/cgDKeQFAFqT4uu5CidyI3PjLbyyT6JKwvzfRD5CA1MIB2RGZyTQfXLlzZao3J+Cj8yP5tpQuDuJ4qgN6A9LyvNDnqBYuQAx5bQmQ5ROyR8CJc0kMDKOo2bk+3f45orjikVMXPrtHqWu7NqY55QrsFKnrxiC6Fq7uRRDbBtVJs1DlEdYentoOoMENejSUBmVs7w2UhL7L8ThjDW8Gn0ZnUgXN3i/KMDsNqyVwGB8XvQfFVSvNzJph4YZgWR8xkDbqvtFgrTW4CRz911lCaaJMWo=
    - secure: >-
        nMfUB3WVXeurUWsjhUUhqSobCauN0Sc6y+yXRTByWb7+UvT1rSRzsZ13KiInf6+SiUpOCShypf3lkCIl+ox7NJycrd5KkClPdpm93n3Aa4QQq8W6XqcZOKtOu4rL2990LYfZwed5HKBG61DfxJIPbEmFh2uj30gMyyXhUrw6mvUt7t22CiBt5zDqjBL7iOuF8RKeH89jejLVhxshGSIr3v4qEaSyMLwhENJsTJ480tfLe5ybhvNDYlYAahJfSbrU3QF8+aU1USScea1DgJStb884V5EkBaSlMeYzX5SXvQ8EscUzdsl7Yee/jxuZoGVGJMmDCg9aGGSsLkEVpzVknt7RsKanEJEceXJ+tgWIRlDXzgSN9VNcaSzofWjTFgeswL/1oB/Gm6hxz4bkn0f0MqJE+w5nXYueYW9WPnBV8d0iuBlYwZIIqyRlWDVcLYjDT/yycCMD5Bs/kVyAcowIYFkf3qDlzYJfLNeA27oqG759WQ0ALvs4YfJxRMC9T8lBxRSwmgYRvheMFX+0tfEMA8mh/2mg9f7KTC5POgWkeNVsDISbMQ2Wf90onpJgPvtG04PR/7yyAB9QqIpndY1QoiJoKVjBqhilKUJoneklmexiHaaEH0FI1wU/JzRKlZBCKeIFRLzX8lvUcwS+mUB8gY9YS/qKDj45ZHEGCZwZcK0=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
