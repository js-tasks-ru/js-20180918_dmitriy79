sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        2o5V8xlv3nbApB4UkJ9hUTjT4IhHbRYYQfqi0hRJ7ntG3/egUGeAF4eRfBr+J/NAsVzwAF1SExnlkG/F4NLh2EugUqWw71g6LJpr7aDBvdLM9BqI08BQ5L8kC1fhTX1uZ/MZC1vgtFtgwudW73/c34HueYvx49pVnFm7iCrGn+bIyu1nB/BdAQf14orbUrUOToRs91DNpzgGClvKxR4WLkDAUkFJWRM55L/cmBi8hLTk+8h3PfmFgtWOlvsrkINlRpQCFzwNujJZfM7/6rSMF+Nqrf4bhjhRhiLHrtvzcLGYKH9NI/EpjhvIxhAhZERk/kkrqOmaKihxOSXZZr8Oxhye8FYSf9wJAcEfwXMwm/+OthRR8QcJAkDDS8eacLlKViYElSvWHyL+axeqm20eD/E9LaizmAsrpxtFnce/rg3yNDrk6kFtrMKDYN+upv4TBw9nMFqIW79xblkvRZbj0ENp7OCc6gcuKYDD1X/GxAw84/SKMymPGwgr4O226eAhj7Um9iHaqlJ8saW0BHGJxgA2Zdbl0l+BPD67SgOGhSslYUb4IDDQ6oOHD71OIlFdKM62hDzn4sDZwUweD3zWPxShLmskV35vtWeg22mxkXzi6Bq+QtQjgDymBlDgPQO8mv2L30/NLF6z70yJehJ3ch0/nJjBwWOho+SGxVJPQl0=
    - secure: >-
        K4AiRAgD8ZFxCed5KbahU+6aa8893840+OnFHSN9yG+WYenk8vmt3H0CBQpTGFvge4mHRkpiU0oI/Yje2lt9KhNwfDkSxWEU54jzmJt0c8d0twvJ1vgDcDVbH72av38vsFjPJ2Afo+b0myxFZcQcfRzxFgReMYSsHZVTzk76nQlCd18UehCTqF8NrRLiIOhwV2vnHUmDw6lNkFkgC5LwrdQvsCBMwwMrYjg5BrMwFUS1V1wTBIeNaazoYfpqEoHBIykL860yEgKpjFOU02x4AudvqezKFg5XZ3gX01xjPG/TguQUFcPpjx60CPSu/YOMxOLl1/9QiQZZTeL5xrqpRbs8dje+UlkAAHtAdkZT2Il2k5Nn3IzTqoHOQDqrW+5emTswoqegtP76SRHMsNhbafXInksMHbM3MAT70ndV5sQGAzGGK00Kzp1lyPx+iiaCcLbB4tld95ZbYitXN/XVCxvB/42JUxiCJse4b4S4HR2zEWrpjeprSYGRCBxmSaVwL5KsUheK8dPoFIi1IQgUuC6iPt0xEZYMXuRB/N6UmFk3GdKCyol7el0SeYMwRdO3hhVrl5caByH9YAUytXHXpCjktboC2zf37CP3VZ50F9vi8jS56dgz2LWl7Ye/DjPxpYjXAMsqmUuF3xH/5XCYj4TZUWMv1Jmab5mrVx+9C8s=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
